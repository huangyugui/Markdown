1、局部最优
2、基于多种因子来评定推荐系数
	好评后再次下单，距离、评分、完成服务所需时间，售后评分，当前是否有未完成订单

用适应性函数对每个个体进行适应度评估：gis按照位置和是否提供该服务进行
用选择函数对每个基因个体做一次适应度评价，择优选择


1、以gis画圆和是否提供该服务为准，得到N个服务商
	1、设置一个阈值，当首次超过该阈值时不再扩大半径画圆选择服务商
	2、如果半径超过了某个阈值，依然找不到一个服务商，那么采用人工分派的方法(或者可以)
2、目前可以用于算法计算的因子有：距离、该服务商未完成的订单数、评分、完成服务平均时间

轮盘赌算法步骤：
	按照以上因子和每种因子的权重设计一个计算公式得到最终评分，以所有厂商的最终评分的和为总权重值，单个评分为该服务商的权重值，
	然后使用随机数函数得到一个随机数，按照该随机数分布的区域，最终选择该服务商为最终的服务商


遗传算法：按照自然界优胜略汰的理念，经过多轮的基因交叉、变异后得到最优解
	 1. 算法的具体步骤：
	  （1）初始化模型数据
		   a. 总体：能够接单的所有厂商；
		   b. 个体：各个厂商；
		   c. 基因：厂商ID的编码；
		   d. 适应度函数：订单与厂商匹配度计算公式
		   e. 初始群里规模：初始厂商数目；
	  （2）个体编码
		   a. 编码函数：将厂商编码转换成基因；拟采用二进制编码
		   b. 个体编码：[订单，厂商]表示一个可行解，使用编码函数进行编码;
	  （3）适应度函数
		   a. 以多种因子来评定各个个体的优劣势，从而确定遗传机会的大小
	   (4）选择运算（选择的策略待定）
		   选择运算(或称为复制运算)把当前群体中适应度较高的个体按某种规则或模型遗传到下一代群体中。一般要求适应度较高的个体将有更多的机会遗传到下一代。
	  （5）交叉运算
		   对可以遗传到下一代的厂商个体进行交叉计算，可选择单点交叉和多点交叉。本项目选择一点交叉，在订单和厂商编码之间设置交叉点
	  （6）变异运算
		   厂商某个基因片段或某个基因点发生突变
		具体的步骤如下：
			a. 初始化种群，比如服务商有10个，2的3次方 < 10 < 2的4次方,因此基因长度选择为4
			b. 对种群个体进行进编码，此处使用厂商的序号,编码方式使用二进制编码，因此他们的编码分别为：[0001, 0010, ... , 0110]
			c. 选择其中N个作为第一代，然后使用适应性函数对他们进行计算得到适应值，筛选掉一些，然后将剩下个体遗传到下一代，并且将他们的基因进行一定概率的交叉运算或者变异运算
			d. 然后在根据适应度函数对他们进行计算得到适应值，通过终止函数判断厂商是否符合条件，如果符合条件，输出厂商信息，如果不符合条件，继续进行交叉运算和变异运算产生下一代，直到符合终止函数为止


2、遗传变异：
	1、目前有评分、平均服务时间等因子，后续还可以继续发现并增加其他因子
	2、在服务商进行服务之后，客户会对服务商的服务进行评价，以及可以获取服务商的服务时间，以此条件为基因进行突变，会定期重新计算评分、平均服务时间等因子

总结：根据服务商的提供服务的优劣，尽量把单子分给优秀的服务商，同时采用轮盘算法做到尽量的平均，使评分暂时较差的服务商有提升的机会


遗传算法：
	1、适应度函数：
		1、以gis画圆和是否提供该服务为准，得到N个服务商
			1、设置一个阈值，当首次超过该阈值时不再扩大半径画圆选择服务商
			2、如果半径超过了某个阈值，依然找不到一个服务商，那么采用人工分派的方法
		2、目前有几种因子：距离、该服务商未完成的订单数、评分、完成服务平均时间等，根据这几种因子定义适应性函数

		4、每个服务商初始分为1
		5、如果该用户在该服务商下过单且好评，那么优先分派给该服务商( + 一定分值)
		6、如果该服务商的未完成的订单超过了阈值( - 一定分值)
		7、评分、完成服务的平均时间、距离等分别做加上或者减去一定的分值得到这个服务商的最终分值

	2、选择函数：
		1、将每个服务商的评分 除以 选择的所有的服务商的评分之和  得到一个比率
		2、轮盘赌选择法，最终分派给选择中的服务商

2、遗传变异：
	1、目前有评分、平均服务时间等因子，后续还可以继续发现并增加其他因子
	2、在服务商进行服务之后，客户会对服务商的服务进行评价，以及可以获取服务商的服务时间，以此条件为基因进行突变，会定期重新计算评分、平均服务时间等因子

总结：根据服务商的提供服务的优劣，尽量把单子分给优秀的服务商，同时采用轮盘算法做到尽量的平均，使评分暂时较差的服务商有提升的机会



参数取值如何变化能使选出的厂商更精确
如何做才能使参数的取值随着具体情况的变化而变化



	a. 遗传算法
		上周五完成了一个简单版的遗传算法Demo，这周模拟了订单和厂商的数据进行匹配，经过分析对比试验结果发现，遗传算法不适用于智能分派中心的当前业务场景。遗传算法的核心思想是将个体编码成“基因”，然后在交叉和变异种得到更好的个体，例如初始解是圈定厂商的集合，然后对厂商进行基因编码，在交叉，变异的时候会产生不存在的厂商，在试验结果也证明了这一点
	b. 蚁群算法
		在编写蚁群算法Demo的时候。发现它不会出现不存在厂商的情况，但是派单模式比较固定，寻找信息素大的节点（厂商）规划爬取路线，所谓信息素大就是厂商与订单匹配度较大，这样我们就必须遍历整个（厂商*订单）矩阵，算法复杂度较高，有些文献提出降低算法复杂度的方法，例如参考文献——蚁群算法解决指派问题的研究和应用，论文中提出的方法适用于一个厂商在此次分派仅能接受一单场景并将将算法复杂度降为O(n)；算法中的参数设定通常由实验方法确定，导致方法的优化性能与人的经验密切相关，很难使算法性能最优化 ，不符合我们“智能”的理念。
	c. 随机森林算法

		在否定以上两种方案之后，决定将智能作为主要入手方向，考虑机器学习相关算法，决策树形模型更加接近人的思维方式，可以产生可视化的分类规则，产生的模型具有可解释性（可以抽取规则）能够根据指定的条件寻找可行性解，符合我们分派的逻辑，但是单个决策树的分派逻辑固定，需要设置好属性的次序，即衡量各个属性对分派的重要程度。所以采取随机森林的思想，对训练样本建立多个决策树模型，通过对分派完毕（单据，厂商）数据随机采样，对属性随机采样，构建不同的决策树。
	2. 下周工作计划
		a. 这周五完成森林算法的Demo，并进行了简单的测试，下周会模拟大量的当前分派场景数据进行训练，对Demo进行进一步完善
		b. 拿出一版可以落地的方案
